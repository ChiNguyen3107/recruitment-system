{
	"info": {
		"_postman_id": "8f8bc168-2897-408e-ac62-6c301d4d868b",
		"name": "Recruitment System API",
		"description": "Endpoints for Auth, Public Jobs, and Debug\n\nHướng dẫn test nhanh với Postman:\n1) Thiết lập biến môi trường:\n   - baseUrl = http://localhost:8081\n2) Test Public Job Search:\n   - Gọi GET {{baseUrl}}/api/public/jobs/search với các query: keyword, location, jobType, minSalary, page, size, sortBy, sortDir\n   - Kỳ vọng 200, body là ApiResponse chứa PageResponse<JobPostingResponse>\n   - Mặc định chỉ trả job status=ACTIVE và applicationDeadline > now\n3) Test Detail (Public):\n   - Gọi GET {{baseUrl}}/api/public/jobs/{id} và kiểm tra job còn hoạt động\n4) Test Latest (Public):\n   - Gọi GET {{baseUrl}}/api/public/jobs/latest?page=0&size=10\n\nGợi ý: Có thể thay đổi sortBy (createdAt, publishedAt, salaryMin, salaryMax, applicationsCount, viewsCount ...) và sortDir (ASC/DESC).",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "48481540",
		"_collection_link": "https://chinguyen3107-7344893.postman.co/workspace/Ch%25C3%25AD-Nguy%25E1%25BB%2585n's-Workspace~556e17ea-1f12-443b-8df6-d9e40470be85/collection/48481540-8f8bc168-2897-408e-ac62-6c301d4d868b?action=share&source=collection_link&creator=48481540"
	},
	"item": [
		{
			"name": "Auth",
			"item": [
				{
					"name": "Register",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"user@example.com\",\n  \"password\": \"Password@123\",\n  \"firstName\": \"First\",\n  \"lastName\": \"Last\",\n  \"phoneNumber\": \"0900000000\",\n  \"role\": \"APPLICANT\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/register",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"register"
							]
						}
					},
					"response": []
				},
				{
					"name": "Set Status: REVIEWED",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"status\": \"REVIEWED\",\n  \"notes\": \"Đã xem hồ sơ\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/applications/manage/1/status",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"applications",
								"manage",
								"1",
								"status"
							]
						}
					},
					"response": []
				},
				{
					"name": "Set Status: INTERVIEW",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"status\": \"INTERVIEW\",\n  \"notes\": \"Mời phỏng vấn tuần tới\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/applications/manage/1/status",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"applications",
								"manage",
								"1",
								"status"
							]
						}
					},
					"response": []
				},
				{
					"name": "Set Status: OFFER",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"status\": \"OFFER\",\n  \"notes\": \"Offer 20tr gross\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/applications/manage/1/status",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"applications",
								"manage",
								"1",
								"status"
							]
						}
					},
					"response": []
				},
				{
					"name": "Set Status: HIRED",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"status\": \"HIRED\",\n  \"notes\": \"Ứng viên nhận offer\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/applications/manage/1/status",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"applications",
								"manage",
								"1",
								"status"
							]
						}
					},
					"response": []
				},
				{
					"name": "Set Status: REJECTED",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"status\": \"REJECTED\",\n  \"notes\": \"Không phù hợp yêu cầu\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/applications/manage/1/status",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"applications",
								"manage",
								"1",
								"status"
							]
						}
					},
					"response": []
				},
				{
					"name": "Login",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"user@example.com\",\n  \"password\": \"Password@123\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/login",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "Refresh Token",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/auth/refresh?refresh_token={{refreshToken}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"refresh"
							],
							"query": [
								{
									"key": "refresh_token",
									"value": "{{refreshToken}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Me (Current User)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/auth/me",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"me"
							]
						}
					},
					"response": []
				},
				{
					"name": "Logout",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/auth/logout",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"logout"
							]
						}
					},
					"response": []
				},
				{
					"name": "Verify Email",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"token\": \"{{verificationToken}}\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/verify-email",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"verify-email"
							]
						}
					},
					"response": []
				},
				{
					"name": "Resend Verification Email",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"user@example.com\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/resend-verification",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"resend-verification"
							]
						}
					},
					"response": []
				},
				{
					"name": "Forgot Password",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"user@example.com\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/forgot-password",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"forgot-password"
							]
						}
					},
					"response": []
				},
				{
					"name": "Reset Password",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"token\": \"{{passwordResetToken}}\",\n  \"newPassword\": \"NewPassword@123\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/reset-password",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"reset-password"
							]
						}
					},
					"response": []
				},
				{
					"name": "Upload My Resume (PDF)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "file",
									"type": "file",
									"src": ""
								}
							]
						},
						"url": {
							"raw": "{{baseUrl}}/api/profiles/my/resume",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"profiles",
								"my",
								"resume"
							]
						}
					},
					"response": []
				}
			]
			,
			"description": "Xác thực và quản lý tài khoản\n- role: Public (register, login, verify-email, resend-verification, forgot-password, reset-password); Authenticated (me, logout); APPLICANT bắt buộc khi upload resume.\n- flow:\n  1) Register → hệ thống tạo user trạng thái PENDING_EMAIL và gửi email xác minh.\n  2) Verify email → đổi sang VERIFIED, có thể đăng nhập đầy đủ.\n  3) Login → nhận accessToken + refreshToken.\n  4) Me/Logout → thao tác với accessToken.\n  5) Refresh token → cấp accessToken mới từ refreshToken hợp lệ.\n  6) Quên mật khẩu → gửi email reset; Reset password → đặt mật khẩu mới."
		},
		{
			"name": "Jobs Management",
			"item": [
				{
					"name": "Create Job (Manage)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"title\": \"Java Backend Developer\",\n  \"description\": \"Phát triển API cho hệ thống tuyển dụng\",\n  \"requirements\": \"3+ năm Java, Spring Boot, SQL\",\n  \"benefits\": \"Bảo hiểm, thưởng, hybrid\",\n  \"jobType\": \"FULL_TIME\",\n  \"status\": \"DRAFT\",\n  \"location\": \"Hanoi\",\n  \"salaryMin\": 15000000,\n  \"salaryMax\": 30000000,\n  \"salaryCurrency\": \"VND\",\n  \"experienceRequired\": \"3+ years\",\n  \"educationRequired\": \"Bachelor\",\n  \"skillsRequired\": \"Java, Spring, SQL\",\n  \"numberOfPositions\": 2,\n  \"applicationDeadline\": \"2099-12-31T23:59:59\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/jobs/manage",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"jobs",
								"manage"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Job (Manage)",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"title\": \"Java Backend Developer (Updated)\",\n  \"description\": \"Cập nhật mô tả công việc\",\n  \"requirements\": \"3+ năm Java, Spring Boot, Docker\",\n  \"benefits\": \"Bảo hiểm, thưởng, hybrid\",\n  \"jobType\": \"FULL_TIME\",\n  \"status\": \"DRAFT\",\n  \"location\": \"Hanoi\",\n  \"salaryMin\": 18000000,\n  \"salaryMax\": 35000000,\n  \"salaryCurrency\": \"VND\",\n  \"experienceRequired\": \"3+ years\",\n  \"educationRequired\": \"Bachelor\",\n  \"skillsRequired\": \"Java, Spring, Docker\",\n  \"numberOfPositions\": 2,\n  \"applicationDeadline\": \"2099-12-31T23:59:59\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/jobs/manage/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"jobs",
								"manage",
								"1"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Status (Manage)",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"status\": \"ACTIVE\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/jobs/manage/1/status",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"jobs",
								"manage",
								"1",
								"status"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete Job (Soft)",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/jobs/manage/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"jobs",
								"manage",
								"1"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete Job (Hard)",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/jobs/manage/1?hard=true",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"jobs",
								"manage",
								"1"
							],
							"query": [
								{
									"key": "hard",
									"value": "true"
								}
							]
						}
					},
					"response": []
				}
			]
			,
			"description": "Quản lý tin tuyển dụng\n- role: RECRUITER của công ty sở hữu tin, hoặc ADMIN.\n- flow:\n  Draft → ACTIVE → Soft Delete (đánh dấu xóa) hoặc Hard Delete (xóa vĩnh viễn).\n- endpoints: Tạo, Cập nhật, Cập nhật trạng thái, Xóa mềm/cứng.\n- Lưu ý: Job chỉ hiển thị công khai/ứng tuyển khi ACTIVE và trước applicationDeadline."
		},
		{
			"name": "Email Verification",
			"item": [
				{
					"name": "Verify Email",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"token\": \"{{verificationToken}}\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/verify-email",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"verify-email"
							]
						}
					},
					"response": []
				},
				{
					"name": "Resend Verification Email",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"user@example.com\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/resend-verification",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"resend-verification"
							]
						}
					},
					"response": []
				}
			]
			,
			"description": "Luồng xác minh email\n- role: Public.\n- flow: Nhận token từ email (hoặc truy vấn ở mục Debug) → POST verify-email để kích hoạt tài khoản. Có thể yêu cầu gửi lại email xác minh qua resend-verification.\n- Bảo mật: Token dùng 1 lần và có thời hạn theo cấu hình."
		},
		{
			"name": "Public Jobs",
			"item": [
				{
					"name": "Search (Public)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/public/jobs/search?keyword=java&location=Hanoi&jobType=FULL_TIME&minSalary=&page=0&size=10&sortBy=createdAt&sortDir=DESC",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"public",
								"jobs",
								"search"
							],
							"query": [
								{
									"key": "keyword",
									"value": "java"
								},
								{
									"key": "location",
									"value": "Hanoi"
								},
								{
									"key": "jobType",
									"value": "FULL_TIME"
								},
								{
									"key": "minSalary",
									"value": ""
								},
								{
									"key": "page",
									"value": "0"
								},
								{
									"key": "size",
									"value": "10"
								},
								{
									"key": "sortBy",
									"value": "createdAt"
								},
								{
									"key": "sortDir",
									"value": "DESC"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Detail (Public)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/public/jobs/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"public",
								"jobs",
								"1"
							]
						}
					},
					"response": []
				},
				{
					"name": "Latest (Public)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/public/jobs/latest?page=0&size=10",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"public",
								"jobs",
								"latest"
							],
							"query": [
								{
									"key": "page",
									"value": "0"
								},
								{
									"key": "size",
									"value": "10"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Jobs Test (Public)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/jobs/test",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"jobs",
								"test"
							]
						}
					},
					"response": []
				},
				{
					"name": "Search (Jobs)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/jobs/search?keyword=java&page=0&size=10",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"jobs",
								"search"
							],
							"query": [
								{
									"key": "keyword",
									"value": "java"
								},
								{
									"key": "page",
									"value": "0"
								},
								{
									"key": "size",
									"value": "10"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Latest (Jobs)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/jobs/latest?page=0&size=10",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"jobs",
								"latest"
							],
							"query": [
								{
									"key": "page",
									"value": "0"
								},
								{
									"key": "size",
									"value": "10"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Detail (Jobs Public)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/jobs/public/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"jobs",
								"public",
								"1"
							]
						}
					},
					"response": []
				}
			],
			"description": "Hướng dẫn test Public Jobs (truy cập công khai)\n- role: Public (không cần token).\n- Search: lọc keyword/title/description/skills, location, jobType, minSalary; phân trang & sắp xếp `sortBy`/`sortDir`.\n- Detail: chỉ trả về khi job ACTIVE và còn hạn (`applicationDeadline` > now).\n- Latest: danh sách job ACTIVE mới nhất.\n- Lưu ý: Có thể sắp xếp theo các trường như createdAt, publishedAt, salaryMin/Max, applicationsCount, viewsCount (nếu backend hỗ trợ)."
		},
		{
			"name": "Profile Management",
			"item": [
				{
					"name": "Get My Profile",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/profiles/my",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"profiles",
								"my"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update My Profile",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"dateOfBirth\": \"1995-05-15\",\n  \"gender\": \"Nam\",\n  \"address\": \"123 Đường ABC\",\n  \"city\": \"Hà Nội\",\n  \"country\": \"Việt Nam\",\n  \"summary\": \"Lập trình viên Java với 3 năm kinh nghiệm phát triển web application. Có kinh nghiệm với Spring Boot, MySQL, và các công nghệ frontend.\",\n  \"experience\": \"• Công ty ABC (2021-2024): Lập trình viên Java\\n  - Phát triển RESTful API với Spring Boot\\n  - Thiết kế và quản lý database MySQL\\n  - Làm việc với team 5 người\\n  - Đóng góp vào việc tối ưu hóa hiệu suất hệ thống\\n\\n• Dự án cá nhân (2020-2021)\\n  - Xây dựng ứng dụng quản lý bán hàng\\n  - Sử dụng Java, Spring MVC, JSP\",\n  \"education\": \"• Đại học Bách Khoa Hà Nội (2017-2021)\\n  - Chuyên ngành: Công nghệ thông tin\\n  - GPA: 3.2/4.0\\n  - Đồ án tốt nghiệp: Hệ thống quản lý thư viện\",\n  \"skills\": \"• Lập trình: Java, Spring Boot, Spring Security, JPA/Hibernate\\n• Database: MySQL, PostgreSQL\\n• Frontend: HTML, CSS, JavaScript, React\\n• Tools: Git, Maven, IntelliJ IDEA, Docker\\n• Ngôn ngữ: Tiếng Anh (TOEIC 750)\",\n  \"certifications\": \"• Oracle Certified Professional Java SE 8 Programmer (2022)\\n• AWS Certified Developer Associate (2023)\\n• Scrum Master Certification (2023)\",\n  \"languages\": \"• Tiếng Việt: Bản ngữ\\n• Tiếng Anh: Trung bình khá (TOEIC 750)\\n• Tiếng Nhật: Cơ bản (N4)\",\n  \"linkedinUrl\": \"https://linkedin.com/in/nguyenvana\",\n  \"githubUrl\": \"https://github.com/nguyenvana\",\n  \"portfolioUrl\": \"https://nguyenvana.dev\",\n  \"desiredSalaryMin\": 15000000,\n  \"desiredSalaryMax\": 25000000,\n  \"desiredJobType\": \"FULL_TIME\",\n  \"desiredLocation\": \"Hà Nội\",\n  \"availability\": \"Có thể bắt đầu ngay\",\n  \"isPublic\": true\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/profiles/my",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"profiles",
								"my"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Profile (Partial)",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"summary\": \"Cập nhật tóm tắt mới về kinh nghiệm lập trình Java và Spring Boot\",\n  \"skills\": \"Java, Spring Boot, Spring Security, MySQL, React, Docker\",\n  \"desiredSalaryMin\": 18000000,\n  \"isPublic\": false\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/profiles/my",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"profiles",
								"my"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Profile (Simple Test)",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"dateOfBirth\": \"1990-01-01\",\n  \"gender\": \"Nam\",\n  \"city\": \"Hà Nội\",\n  \"summary\": \"Lập trình viên Java với kinh nghiệm phát triển web application\",\n  \"skills\": \"Java, Spring Boot, MySQL\",\n  \"desiredSalaryMin\": 10000000,\n  \"desiredSalaryMax\": 20000000,\n  \"isPublic\": true\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/profiles/my",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"profiles",
								"my"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Profile (Validation Test)",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"summary\": \"Tóm tắt rất dài vượt quá 2000 ký tự...\",\n  \"gender\": \"Giới tính rất dài vượt quá 20 ký tự\",\n  \"linkedinUrl\": \"URL rất dài vượt quá 500 ký tự...\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/profiles/my",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"profiles",
								"my"
							]
						}
					},
					"response": []
				},
				{
					"name": "Security Test - No Token (GET)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/profiles/my",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"profiles",
								"my"
							]
						}
					},
					"response": []
				},
				{
					"name": "Security Test - No Token (PUT)",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"summary\": \"Test không có token\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/profiles/my",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"profiles",
								"my"
							]
						}
					},
					"response": []
				},
				{
					"name": "Security Test - Wrong Role (RECRUITER)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{recruiterToken}}",
								"description": "Token của user với role RECRUITER",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/profiles/my",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"profiles",
								"my"
							]
						}
					},
					"response": []
				},
				{
					"name": "Security Test - Wrong Role (ADMIN)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{adminToken}}",
								"description": "Token của user với role ADMIN",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/profiles/my",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"profiles",
								"my"
							]
						}
					},
					"response": []
				},
				{
					"name": "Security Test - Invalid Token",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer invalid_token_here",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/profiles/my",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"profiles",
								"my"
							]
						}
					},
					"response": []
				}
			],
			"description": "Quản lý hồ sơ ứng viên (APPLICANT)\n- role: Chỉ APPLICANT đã đăng nhập.\n- GET /api/profiles/my: Lấy hồ sơ người dùng hiện tại.\n- PUT /api/profiles/my: Cập nhật hồ sơ; có kiểm tra/giới hạn độ dài các trường; chỉ các trường hợp lệ mới được lưu.\n- Bảo mật: Yêu cầu Bearer token hợp lệ; từ chối khi sai role/thiếu token."
		},
		{
			"name": "Debug",
			"item": [
				{
					"name": "Get User by Email",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/debug/auth/user/user@example.com",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"debug",
								"auth",
								"user",
								"user@example.com"
							]
						}
					},
					"response": []
				},
				{
					"name": "Test Password",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/debug/auth/test-password?email=user@example.com&password=Password@123",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"debug",
								"auth",
								"test-password"
							],
							"query": [
								{
									"key": "email",
									"value": "user@example.com"
								},
								{
									"key": "password",
									"value": "Password@123"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Test Refresh Token by Email",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/debug/auth/test-refresh-token/user@example.com",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"debug",
								"auth",
								"test-refresh-token",
								"user@example.com"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Test User",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/debug/auth/create-test-user?email=test2@example.com&password=Password@123&firstName=Test&lastName=User",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"debug",
								"auth",
								"create-test-user"
							],
							"query": [
								{
									"key": "email",
									"value": "test2@example.com"
								},
								{
									"key": "password",
									"value": "Password@123"
								},
								{
									"key": "firstName",
									"value": "Test"
								},
								{
									"key": "lastName",
									"value": "User"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Verification Token by Email",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/debug/auth/verification-token/user@example.com",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"debug",
								"auth",
								"verification-token",
								"user@example.com"
							]
						}
					},
					"response": []
				},
				{
					"name": "Check Email Verification Status",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/debug/auth/email-status/user@example.com",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"debug",
								"auth",
								"email-status",
								"user@example.com"
							]
						}
					},
					"response": []
				}
			]
			,
			"description": "Các endpoint Debug chỉ dùng trong môi trường DEV\n- role: Public (không yêu cầu token) — TUYỆT ĐỐI không bật ở production.\n- Chức năng: tra cứu user theo email, kiểm tra mật khẩu, tạo user test, lấy refresh token/verification token, kiểm tra trạng thái xác minh email.\n- Cảnh báo: Có thể lộ dữ liệu nhạy cảm; dùng để hỗ trợ kiểm thử luồng Auth/Email."
		},
		{
			"name": "Applications (My)",
			"item": [
				{
					"name": "Apply to Job (My)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"jobPostingId\": 1,\n  \"coverLetter\": \"Thư xin việc mẫu...\",\n  \"resumeUrl\": \"https://example.com/cv.pdf\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/applications/my",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"applications",
								"my"
							]
						}
					},
					"response": []
				}
			],
			"description": "Nộp đơn ứng tuyển bởi ứng viên\n- role: APPLICANT đã đăng nhập (nên có email VERIFIED).\n- POST /api/applications/my: Gửi đơn với `jobPostingId`, `coverLetter`, `resumeUrl`.\n- Điều kiện: Job phải ACTIVE và còn hạn nộp, không bị xóa.\n- Kết quả: Lưu hồ sơ ứng tuyển và có thể thông báo tới nhà tuyển dụng."
		},
		{
			"name": "Applications Management",
			"item": [
				{
					"name": "List Applications (Manage)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/applications/manage?page=0&size=10&status=RECEIVED&jobPostingId=1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"applications",
								"manage"
							],
							"query": [
								{
									"key": "page",
									"value": "0"
								},
								{
									"key": "size",
									"value": "10"
								},
								{
									"key": "status",
									"value": "RECEIVED",
									"description": "Tùy chọn: RECEIVED, REVIEWED, INTERVIEW, OFFER, HIRED, REJECTED"
								},
								{
									"key": "jobPostingId",
									"value": "1",
									"description": "Tùy chọn: lọc theo tin tuyển dụng"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Application Detail (Manage)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/applications/manage/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"applications",
								"manage",
								"1"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Application Status (Manage)",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"status\": \"INTERVIEW\",\n  \"notes\": \"Mời phỏng vấn vào tuần tới\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/applications/manage/1/status",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"applications",
								"manage",
								"1",
								"status"
							]
						}
					},
					"response": []
				}
			],
			"description": "Quản lý đơn ứng tuyển cho nhà tuyển dụng\n- role: RECRUITER (giới hạn trong công ty của mình) hoặc ADMIN (toàn hệ thống).\n- Danh sách: phân trang, lọc theo `status` và `jobPostingId`.\n- Chi tiết: chỉ xem được khi đơn thuộc công ty của user.\n- Cập nhật trạng thái: flow RECEIVED → REVIEWED → INTERVIEW → OFFER → (HIRED | REJECTED). Khi chuyển từ RECEIVED ghi `reviewedAt/by` và gửi email cho ứng viên."
		},
		{
			"name": "Dashboards",
			"item": [
				{
					"name": "Admin Dashboard",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{adminToken}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/admin/dashboard",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"admin",
								"dashboard"
							]
						}
					},
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"  pm.response.to.have.status(200);",
									"});",
									"const json = pm.response.json();",
									"pm.test(\"Body has ApiResponse shape\", function () {",
									"  pm.expect(json).to.have.property('success', true);",
									"  pm.expect(json).to.have.property('data');",
									"});",
									"pm.test(\"Data contains totalUsers and status maps\", function () {",
									"  pm.expect(json.data).to.have.property('totalUsers');",
									"  pm.expect(json.data).to.have.property('jobsByStatus');",
									"  pm.expect(json.data).to.have.property('applicationsByStatus');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"response": []
				},
				{
					"name": "Employer Dashboard",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{recruiterToken}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/employer/dashboard",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"employer",
								"dashboard"
							]
						}
					},
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"  pm.response.to.have.status(200);",
									"});",
									"const json = pm.response.json();",
									"pm.test(\"Body has ApiResponse shape\", function () {",
									"  pm.expect(json).to.have.property('success', true);",
									"  pm.expect(json).to.have.property('data');",
									"});",
									"pm.test(\"Data contains activeJobs and conversionRate\", function () {",
									"  pm.expect(json.data).to.have.property('activeJobs');",
									"  pm.expect(json.data).to.have.property('conversionRate');",
									"});",
									"if (Array.isArray(json.data.activeJobs) && json.data.activeJobs.length > 0) {",
									"  const item = json.data.activeJobs[0];",
									"  pm.test(\"activeJobs item shape\", function () {",
									"    pm.expect(item).to.have.property('jobId');",
									"    pm.expect(item).to.have.property('title');",
									"    pm.expect(item).to.have.property('status');",
									"    pm.expect(item).to.have.property('applications');",
									"  });",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"response": []
				}
			],
			"description": "Bảng điều khiển (Dashboards)\n\n1) Admin Dashboard\n- Endpoint: GET /api/admin/dashboard\n- Quyền: Chỉ ADMIN (Authorization: Bearer {{adminToken}}).\n- Dữ liệu trả về: tổng số người dùng (totalUsers), số lượng tin tuyển dụng theo trạng thái (jobsByStatus), số lượng đơn ứng tuyển theo trạng thái (applicationsByStatus).\n- Mục đích: Thống kê nhanh toàn hệ thống để theo dõi hoạt động.\n\n2) Employer Dashboard\n- Endpoint: GET /api/employer/dashboard\n- Quyền: EMPLOYER/RECRUITER thuộc công ty hoặc ADMIN (Authorization: Bearer {{recruiterToken}} hoặc {{adminToken}}).\n- Dữ liệu trả về: danh sách tin đang ACTIVE của công ty kèm số đơn ứng tuyển cho mỗi tin (activeJobs), tỷ lệ chuyển đổi cơ bản (conversionRate = HIRED / tổng đơn).\n- Mục đích: Giúp nhà tuyển dụng theo dõi hiệu quả tuyển dụng theo từng tin và tổng quan."
		}
	],
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:8081"
		},
		{
			"key": "accessToken",
			"value": ""
		},
		{
			"key": "refreshToken",
			"value": ""
		},
		{
			"key": "verificationToken",
			"value": ""
		},
		{
			"key": "passwordResetToken",
			"value": ""
		},
		{
			"key": "recruiterToken",
			"value": ""
		},
		{
			"key": "adminToken",
			"value": ""
		}
	]
}